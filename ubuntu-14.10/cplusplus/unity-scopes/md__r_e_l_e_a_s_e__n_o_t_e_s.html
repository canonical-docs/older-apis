<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Unity Scopes API: Release notes</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Unity Scopes API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('md__r_e_l_e_a_s_e__n_o_t_e_s.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Release notes </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>Changes in version 0.6.7 </h1>
<ul>
<li>OnlineAccountClient fixes: run the internal event loop within its own context to avoid clashing with external main loop (LP: #1377147).</li>
<li>Introduced new dependencies on dbus-test-runner and libdbustest1-dev.</li>
<li>Fix for Zmq infinite reconnection problem (LP: #1374206)</li>
</ul>
<h1>Changes in version 0.6.6 </h1>
<ul>
<li>Added support for online accounts (via new OnlineAccountClient class).</li>
</ul>
<h1>Changes in version 0.6.5 </h1>
<ul>
<li>Implemented support for expandable preview widgets. See the documentation of PreviewWidget for details of the new widget type.</li>
</ul>
<h1>Changes in version 0.6.3 </h1>
<ul>
<li>Fix scope cache path for confined scopes.</li>
</ul>
<h1>Changes in version 0.6.2 </h1>
<ul>
<li>Move scope configuration to ~/.config/unity-scopes/</li>
<li>New setting to enable/disable of location data being fed to scopes.</li>
<li>New DebugMode scope configuration option.</li>
</ul>
<h1>Changes in version 0.6.1 </h1>
<ul>
<li>Clear any signal masks inherited from the parent process when forking.</li>
<li>Allow timeout value of -1 to disable the scope idle timeout, reaper timeouts, and two-way invocation timeout.</li>
</ul>
<h1>Changes in version 0.6.0 </h1>
<ul>
<li>Added tmp_directory() method to ScopeBase, so a scope can find out where it can write temporary files.</li>
<li>Added cache_directory() method to ScopeBase, so a scope can find out where it can write its files.</li>
<li>Upgraded finished() callback to be more flexible and expandable.</li>
<li>Refactored scoperunner and ScopeLoader. ScopeLoader no longer knows about the registry and scoperunner now calls RuntimeImpl::run_scope() to set the scope running, instead of duplicating lots of functionality.</li>
<li>Removed registry parameter from ScopeBase::start(). The registry is now available via a registry() accessor on ScopeBase. The original start() method is still present, but deprecated. The default implementation of the new start() method forwards to the old one so, if a scope implements only the old one but not the new one, things still work.</li>
<li>Made methods on ScopeBase virtual, so the testing framework can override them in a test scope.</li>
<li>Added support for additional query reply info.</li>
<li>Introduced QueryMetadata base for shared functionality of *Metadata classes.</li>
<li>Added set_internet_connectivity() and internet_connectivity() to QueryMetadata.</li>
</ul>
<h1>Changes in version 0.5.2 </h1>
<ul>
<li>Added CannedQuery parameter to Category.</li>
<li>Added support for scope settings.</li>
<li>Added Registry.Timeout configuration parameter to Zmq.ini.</li>
</ul>
<h1>Changes in version 0.5.1 </h1>
<ul>
<li>Support nested dictionaries in appearance attributes of scope metadata. To define nested dictionary, use dots in key names in [Appearance] section of scope .ini file, e.g. "PageHeader.Logo" = "logo.svg" creates "Logo" attribute inside "PageHeader" dictionary of appearance attributes.</li>
</ul>
<h1>Changes in version 0.5.0 </h1>
<ul>
<li>Changed ScopeBase::start() method to return void instead of int, and made both start() and stop() methods virtual instead of pure virtual.</li>
<li>Moved all filter classes except for OptionSelectorFilter into experimental namespace, since they are not currently supported by the Shell and their API may get changed.</li>
<li>Moved Annotation class into experimental namespace. Annotations are not currently supported by the shell and should not be used as their API may change or get removed.</li>
<li>removed deprecated SearchReply::register_annotation() method.</li>
<li>Changes to departments API: SearchReply::register_departments() method now takes parent department argument only, and uses Department::SCPtr for it. SearchListenerBase::push() method for departments got changed to match as well. Removed constructors of Department and added static create() methods instead. Changed DepartmentList to hold Department pointers instead of values. Changed Department::set_has_subdepartments() method to take bool value (true by default).</li>
<li>Changed parameter type for pushing categories on SearchListenerBase to Category::SCPtr const&amp;.</li>
<li>Changed constructor of SearchQueryBase to take CannedQuery and SearchMetadata arguments. Changed constructor of PreviewQueryBase to take Result and ActionMetadata arguments. Changed ActivationQueryBase constructor to take Result, widget id and action id argument. All the constructor arguments are then available via respective getters of the base classes.</li>
</ul>
<h1>Changes in version 0.4.8 </h1>
<ul>
<li>Introduced Dir/ScopesWatcher classes to watch for updates to the scope install directories, and added API to subscribe to changes in registry.</li>
</ul>
<h1>Changes in version 0.4.7 </h1>
<ul>
<li>Implemented RatingFilter and RadioButtonsFilter.</li>
<li>changed create() methods of OptionSelectorFilter and RangeInputFilter to return unique_ptr (UPtr) instead of shared pointers.</li>
</ul>
<h1>Changes in version 0.4.6 </h1>
<ul>
<li>Added method to get and set display hints for filters (at this moment the only display hint available is Primary hint).</li>
<li>Added has_subdepartments flag and alternate label to Department class.</li>
<li>Added TTL option for scope results.</li>
</ul>
<h1>Changes in version 0.4.5 </h1>
<ul>
<li>Implemented RangeInputFilter.</li>
</ul>
<h1>Changes in version 0.4.4 </h1>
<ul>
<li>The register_annotation() method of SearchReply is now deprecated - push(Annotation const&amp;) should be used instead. The display order of annotations with respect to results and categories got updated in the documentation of that method.</li>
<li>Simplified configuration with sensible defaults for all values.</li>
<li>scoperunner, scoperegistry, and smartscopesproxy are now install in /usr/lib/&lt;arch&gt; (instead of in a subdirectory of &lt;arch&gt;).</li>
<li>Runtime::run_scope() now has an overload to accept a path to Runtime.ini. If no file name is passed, the system-wide Runtime.ini is used.</li>
<li>UNIX domain sockets for Zmq are now placed under /user/run/&lt;uid&gt;/zmq by default.</li>
</ul>
<h1>Changes in version 0.4.2 </h1>
<ul>
<li>Made the scope search, activate, perform_action, and preview methods non-blocking. A (fake) QueryCtrl is returned immediately from these methods now. Calling cancel() before the server has finished creating the query remembers the cancel and sends it to the server once the server has returned the real QueryCtrl. This change should be transparent to application code (the only difference being that these methods complete faster now).</li>
<li>CannedQuery class can now be converted to and from a scopes:// uri with to_uri() and from_uri() methods. These methods replace to_string() and from_string() methods that got removed.</li>
</ul>
<h1>Changes in version 0.4.0 </h1>
<ul>
<li>Re-factored proxy class implementation. These changes are API compatible, but not ABI compatible.</li>
<li><p class="startli">Renaming of various API elements for consistency and clarity:</p>
<p class="startli">PreviewWidget::add_attribute() -&gt; PreviewWidget::add_attribute_value() PreviewWidget::attributes() -&gt; PreviewWidget::attribute_values() PreviewWidget::add_component() -&gt; PreviewWidget::add_attribute_mapping() PreviewWidget::components() -&gt; PreviewWidget::attribute_mappings()</p>
<p class="startli">ActivationListener -&gt; ActivationListenerBase ActivationListenerBase::activation_response() -&gt; ActivationListenerBase::activated()</p>
<p class="startli">PreviewListener -&gt; PreviewListenerBase</p>
<p class="startli">SearchListener -&gt; SearchListenerBase</p>
<p class="startli">PreviewQuery -&gt; PreviewQueryBase</p>
<p class="startli">SearchQuery -&gt; SearchQueryBase</p>
<p class="startli">ActivationBase -&gt; ActivationQueryBase</p>
<p class="startli">ReplyBase -&gt; Reply</p>
<p class="startli">RegistryBase -&gt; Registry</p>
<p class="startli">Query -&gt; CannedQuery CannedQuery::scope_name() -&gt; CannedQuery::scope_id()</p>
<p class="startli">ScopeMetadata::scope_name() -&gt; CannedQuery::scope_id()</p>
<p class="startli">Scope::create_query() -&gt; Scope::search()</p>
<p class="startli">ScopeBase::create_query() -&gt; ScopeBase::search()</p>
<p class="startli">SearchQuery::create_subquery() -&gt; SearchQuery::subsearch()</p>
<p class="startli">Variant::Type: changed ordinal values of enumerators</p>
</li>
</ul>
<h1>Changes in version 0.3.2 </h1>
<ul>
<li>ActivationResponse::set_scope_data(Variant const&amp;) and scope_data() methods have been added; they are meant to replace setHints() and hints() and use Variant instead of VariantMap for arbitrary scope data. The existing ActivationResponse::setHints(VariantMap const&amp;) and hints() methods have been marked as deprecated and for removal in 0.4.0.</li>
</ul>
<h1>Changes in version 0.3.1 </h1>
<ul>
<li>Scope::activate_preview_action() and ScopeBase::activate_preview_action() were renamed to perform_action(). They now also require widget identifier along with action id and hints.</li>
<li>Added SearchMetadata and ActionMetadata classes; these classes are now passed to create_query(), activate(), perform_action(), preview() methods of ScopeBase and Scope (ScopeProxy) instead of a plain VariantMap.</li>
<li>The 'Handled' state was removed from ActivationResponse::Status and two new values were added instead: ShowDash and HideDash.</li>
<li>Annotation API changes: annotations of 'Card' type were removed and Annotation doesn't support category attribute anymore. SearchReply::push() method for annotations was renamed to register_annotation(). Annotations are now going to be displayed in the order they were registered by scopes.</li>
<li>Result::activation_scope_name() method was renamed to target_scope_proxy() and it now returns ScopeProxy instead of a string. Client code can now use that proxy for result activation or preview calls, instead of having to do an extra registry lookup.</li>
</ul>
<h1>Changes in version 0.3.0 </h1>
<ul>
<li>Preliminary API for filters has been added via OptionSelectorFilter and FilterState classes. This part of the API is not yet supported by Unity shell and should be considered highly experimental.</li>
<li>ScopeBase::create_query() method now takes Query object instance instead of just a search query string. Search query string is now encapsulated in the Query class and can be retrieved via Query::query_string().</li>
<li>ScopeProxy class provides overloaded create_query methods for passing filter state and department id. Note: departments are not yet supported across the API.</li>
<li><p class="startli">The scoperegistry allows extra scopes to be added on the command line now:</p>
<p class="startli">$ scoperegistry some/path/Runtime.ini some/other/path/Fred.ini Joe.ini</p>
<p class="startli">This loads Fred and Joe scopes in addition to any scopes picked up via the normal configuration. If Fred or Joe appear in configuration as well as on the command line, the config file on the command line takes precedence. The .so for additional scopes is expected to be in the same directory as the corresponding .ini file. </p>
</li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Oct 10 2014 19:49:16 for Unity Scopes API by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
