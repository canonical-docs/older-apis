<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Unity Scopes API: unity::scopes::ScopeBase Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Unity Scopes API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classunity_1_1scopes_1_1_scope_base.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="classunity_1_1scopes_1_1_scope_base.html#pub-methods">Public Member Functions</a> &#124;
<a href="classunity_1_1scopes_1_1_scope_base.html#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classunity_1_1scopes_1_1_scope_base.html#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classunity_1_1scopes_1_1_scope_base-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">unity::scopes::ScopeBase Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Base class for a scope implementation.  
 <a href="classunity_1_1scopes_1_1_scope_base.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_scope_base_8h_source.html">unity/scopes/ScopeBase.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:add7f4b1811774a63cd474ccab702acdf"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunity_1_1scopes_1_1_scope_base.html#add7f4b1811774a63cd474ccab702acdf">start</a> (std::string const &amp;scope_id, <a class="el" href="namespaceunity_1_1scopes.html#a45babc254d3548863d79ee54f266e84d">RegistryProxy</a> const &amp;registry)=0</td></tr>
<tr class="memdesc:add7f4b1811774a63cd474ccab702acdf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by the scopes run time after the create function completes.  <a href="classunity_1_1scopes_1_1_scope_base.html#add7f4b1811774a63cd474ccab702acdf">More...</a><br/></td></tr>
<tr class="separator:add7f4b1811774a63cd474ccab702acdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad55d5cb31003751b49783799d4d80c09"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunity_1_1scopes_1_1_scope_base.html#ad55d5cb31003751b49783799d4d80c09">stop</a> ()=0</td></tr>
<tr class="memdesc:ad55d5cb31003751b49783799d4d80c09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by the scopes run time when the scope should shut down.  <a href="classunity_1_1scopes_1_1_scope_base.html#ad55d5cb31003751b49783799d4d80c09">More...</a><br/></td></tr>
<tr class="separator:ad55d5cb31003751b49783799d4d80c09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a386e99b98318a70f25db84bbe11c0292"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunity_1_1scopes_1_1_scope_base.html#a386e99b98318a70f25db84bbe11c0292">run</a> ()</td></tr>
<tr class="memdesc:a386e99b98318a70f25db84bbe11c0292"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by the scopes run time after it has called <a class="el" href="classunity_1_1scopes_1_1_scope_base.html#add7f4b1811774a63cd474ccab702acdf" title="Called by the scopes run time after the create function completes. ">start()</a> to hand a thread of control to the scope.  <a href="classunity_1_1scopes_1_1_scope_base.html#a386e99b98318a70f25db84bbe11c0292">More...</a><br/></td></tr>
<tr class="separator:a386e99b98318a70f25db84bbe11c0292"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e4969ff26dc1d396d74c56d896fd564"><td class="memItemLeft" align="right" valign="top">virtual SearchQueryBase::UPtr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunity_1_1scopes_1_1_scope_base.html#a0e4969ff26dc1d396d74c56d896fd564">search</a> (<a class="el" href="classunity_1_1scopes_1_1_canned_query.html">CannedQuery</a> const &amp;query, <a class="el" href="classunity_1_1scopes_1_1_search_metadata.html">SearchMetadata</a> const &amp;metadata)=0</td></tr>
<tr class="memdesc:a0e4969ff26dc1d396d74c56d896fd564"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by the scopes run time when a scope needs to instantiate a query.  <a href="classunity_1_1scopes_1_1_scope_base.html#a0e4969ff26dc1d396d74c56d896fd564">More...</a><br/></td></tr>
<tr class="separator:a0e4969ff26dc1d396d74c56d896fd564"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49a0b9ada0eeb4c71e6a2181c3d8c9e7"><td class="memItemLeft" align="right" valign="top">virtual ActivationQueryBase::UPtr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunity_1_1scopes_1_1_scope_base.html#a49a0b9ada0eeb4c71e6a2181c3d8c9e7">activate</a> (<a class="el" href="classunity_1_1scopes_1_1_result.html">Result</a> const &amp;result, <a class="el" href="classunity_1_1scopes_1_1_action_metadata.html">ActionMetadata</a> const &amp;metadata)</td></tr>
<tr class="memdesc:a49a0b9ada0eeb4c71e6a2181c3d8c9e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by the scopes run time when a scope needs to respond to a result activation request.  <a href="classunity_1_1scopes_1_1_scope_base.html#a49a0b9ada0eeb4c71e6a2181c3d8c9e7">More...</a><br/></td></tr>
<tr class="separator:a49a0b9ada0eeb4c71e6a2181c3d8c9e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f4d476fa790349c9a7de52be3232d11"><td class="memItemLeft" align="right" valign="top">virtual ActivationQueryBase::UPtr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunity_1_1scopes_1_1_scope_base.html#a2f4d476fa790349c9a7de52be3232d11">perform_action</a> (<a class="el" href="classunity_1_1scopes_1_1_result.html">Result</a> const &amp;result, <a class="el" href="classunity_1_1scopes_1_1_action_metadata.html">ActionMetadata</a> const &amp;metadata, std::string const &amp;widget_id, std::string const &amp;action_id)</td></tr>
<tr class="memdesc:a2f4d476fa790349c9a7de52be3232d11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invoked when a scope is requested to handle a preview action.  <a href="classunity_1_1scopes_1_1_scope_base.html#a2f4d476fa790349c9a7de52be3232d11">More...</a><br/></td></tr>
<tr class="separator:a2f4d476fa790349c9a7de52be3232d11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a154b9b4cfc0f40572cfec60dd819396f"><td class="memItemLeft" align="right" valign="top">virtual PreviewQueryBase::UPtr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunity_1_1scopes_1_1_scope_base.html#a154b9b4cfc0f40572cfec60dd819396f">preview</a> (<a class="el" href="classunity_1_1scopes_1_1_result.html">Result</a> const &amp;result, <a class="el" href="classunity_1_1scopes_1_1_action_metadata.html">ActionMetadata</a> const &amp;metadata)=0</td></tr>
<tr class="memdesc:a154b9b4cfc0f40572cfec60dd819396f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invoked when a scope is requested to create a preview for a particular result.  <a href="classunity_1_1scopes_1_1_scope_base.html#a154b9b4cfc0f40572cfec60dd819396f">More...</a><br/></td></tr>
<tr class="separator:a154b9b4cfc0f40572cfec60dd819396f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8348ee137613e28d10bd4f8bbb91c7a4"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunity_1_1scopes_1_1_scope_base.html#a8348ee137613e28d10bd4f8bbb91c7a4">scope_directory</a> () const </td></tr>
<tr class="memdesc:a8348ee137613e28d10bd4f8bbb91c7a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns directory where the scope files are.  <a href="classunity_1_1scopes_1_1_scope_base.html#a8348ee137613e28d10bd4f8bbb91c7a4">More...</a><br/></td></tr>
<tr class="separator:a8348ee137613e28d10bd4f8bbb91c7a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a4cbdf8cb790e6f44e388e70ab456e686"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4cbdf8cb790e6f44e388e70ab456e686"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunity_1_1scopes_1_1_scope_base.html#a4cbdf8cb790e6f44e388e70ab456e686">runtime_version</a> (int &amp;v_major, int &amp;v_minor, int &amp;v_micro) noexcept</td></tr>
<tr class="memdesc:a4cbdf8cb790e6f44e388e70ab456e686"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the version information for the scopes API that the scope was linked with. <br/></td></tr>
<tr class="separator:a4cbdf8cb790e6f44e388e70ab456e686"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a7ef008b8ec7ae3bdab9a1b5dbc2a0dd0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7ef008b8ec7ae3bdab9a1b5dbc2a0dd0"></a>
static constexpr int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunity_1_1scopes_1_1_scope_base.html#a7ef008b8ec7ae3bdab9a1b5dbc2a0dd0">VERSION</a> = UNITY_SCOPES_VERSION_MAJOR</td></tr>
<tr class="memdesc:a7ef008b8ec7ae3bdab9a1b5dbc2a0dd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">This value must be returned from the <a class="el" href="classunity_1_1scopes_1_1_scope_base.html#add7f4b1811774a63cd474ccab702acdf" title="Called by the scopes run time after the create function completes. ">start()</a> method. <br/></td></tr>
<tr class="separator:a7ef008b8ec7ae3bdab9a1b5dbc2a0dd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Base class for a scope implementation. </p>
<p>Scopes are accessed by the scopes run time as a shared library (one library per scope). Each scope must implement a class that derives from <a class="el" href="classunity_1_1scopes_1_1_scope_base.html" title="Base class for a scope implementation. ">ScopeBase</a>, for example:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_scope_base_8h.html">unity/scopes/ScopeBase.h</a>&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">class </span>MyScope : <span class="keyword">public</span> <a class="code" href="classunity_1_1scopes_1_1_scope_base.html">unity::scopes::ScopeBase</a></div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    MyScope();</div>
<div class="line">    <span class="keyword">virtual</span> ~MyScope();</div>
<div class="line"></div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="classunity_1_1scopes_1_1_scope_base.html#add7f4b1811774a63cd474ccab702acdf">start</a>();    <span class="comment">// Mandatory</span></div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classunity_1_1scopes_1_1_scope_base.html#ad55d5cb31003751b49783799d4d80c09">stop</a>();    <span class="comment">// Mandatory</span></div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classunity_1_1scopes_1_1_scope_base.html#a386e99b98318a70f25db84bbe11c0292">run</a>();     <span class="comment">// Optional</span></div>
<div class="line">};</div>
</div><!-- fragment --><p>The derived class must provide implementations of the pure virtual methods <a class="el" href="classunity_1_1scopes_1_1_scope_base.html#add7f4b1811774a63cd474ccab702acdf" title="Called by the scopes run time after the create function completes. ">start()</a> and <a class="el" href="classunity_1_1scopes_1_1_scope_base.html#ad55d5cb31003751b49783799d4d80c09" title="Called by the scopes run time when the scope should shut down. ">stop()</a>. In addition, the library must provide two functions with "C" linkage:</p>
<ul>
<li>a create function that must return a pointer to the derived instance</li>
<li>a destroy function that is passed the pointer returned by the create function</li>
</ul>
<p>Typically, the create and destroy functions will simply call <code>new</code> and <code>delete</code>, respectively. (However, there is no requirement that the derived class instance must be heap-allocated.) If the create function throws an exception, the destroy function will not be called. If the create function returns NULL, the destroy function <em>will</em> be called with NULL as its argument.</p>
<p>Rather than hard-coding the names of the functions, use the <a class="el" href="_scope_base_8h.html#a21674629dcda399390c80d469fcb1d6d" title="The function called by the scopes run time to initialize the scope. It must return a pointer to an in...">UNITY_SCOPE_CREATE_FUNCTION</a> and <a class="el" href="_scope_base_8h.html#ac01d346e43462c07535811fd24c468f7" title="The function called by the scopes run time to finalize the scope. The passed pointer is the pointer t...">UNITY_SCOPE_DESTROY_FUNCTION</a> macros, for example:</p>
<div class="fragment"><div class="line"><a class="code" href="classunity_1_1scopes_1_1_scope_base.html">unity::scopes::ScopeBase</a>*</div>
<div class="line"><a class="code" href="_scope_base_8h.html#a21674629dcda399390c80d469fcb1d6d">UNITY_SCOPE_CREATE_FUNCTION</a>()</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">new</span> MyScope; <span class="comment">// Example only, heap-allocation is not mandatory</span></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span></div>
<div class="line"><a class="code" href="_scope_base_8h.html#ac01d346e43462c07535811fd24c468f7">UNITY_SCOPE_DESTROY_FUNCTION</a>(<a class="code" href="classunity_1_1scopes_1_1_scope_base.html">unity::scopes::ScopeBase</a>* scope)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">delete</span> scope;       <span class="comment">// Example only, heap-allocation is not mandatory</span></div>
<div class="line">}</div>
</div><!-- fragment --><p>After the scopes run time has obtained a pointer to the class instance from the create function, it calls <a class="el" href="classunity_1_1scopes_1_1_scope_base.html#add7f4b1811774a63cd474ccab702acdf" title="Called by the scopes run time after the create function completes. ">start()</a>, which allows the scope to intialize itself. This is followed by call to <a class="el" href="classunity_1_1scopes_1_1_scope_base.html#a386e99b98318a70f25db84bbe11c0292" title="Called by the scopes run time after it has called start() to hand a thread of control to the scope...">run()</a>. The call to <a class="el" href="classunity_1_1scopes_1_1_scope_base.html#a386e99b98318a70f25db84bbe11c0292" title="Called by the scopes run time after it has called start() to hand a thread of control to the scope...">run()</a> is made by a separate thread; its only purpose is to pass a thread of control to the scope, for example, to run an event loop. When the scope should complete its activities, the run time calls <a class="el" href="classunity_1_1scopes_1_1_scope_base.html#ad55d5cb31003751b49783799d4d80c09" title="Called by the scopes run time when the scope should shut down. ">stop()</a>. The calls to the create function, <a class="el" href="classunity_1_1scopes_1_1_scope_base.html#add7f4b1811774a63cd474ccab702acdf" title="Called by the scopes run time after the create function completes. ">start()</a>, <a class="el" href="classunity_1_1scopes_1_1_scope_base.html#ad55d5cb31003751b49783799d4d80c09" title="Called by the scopes run time when the scope should shut down. ">stop()</a>, and the destroy function) are made by the same thread.</p>
<p>The scope implementation, if it does not return from <a class="el" href="classunity_1_1scopes_1_1_scope_base.html#a386e99b98318a70f25db84bbe11c0292" title="Called by the scopes run time after it has called start() to hand a thread of control to the scope...">run()</a>, is expected to return from <a class="el" href="classunity_1_1scopes_1_1_scope_base.html#a386e99b98318a70f25db84bbe11c0292" title="Called by the scopes run time after it has called start() to hand a thread of control to the scope...">run()</a> in response to a call to <a class="el" href="classunity_1_1scopes_1_1_scope_base.html#ad55d5cb31003751b49783799d4d80c09" title="Called by the scopes run time when the scope should shut down. ">stop()</a> in a timely manner. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a49a0b9ada0eeb4c71e6a2181c3d8c9e7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ActivationQueryBase::UPtr unity::scopes::ScopeBase::activate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classunity_1_1scopes_1_1_result.html">Result</a> const &amp;&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classunity_1_1scopes_1_1_action_metadata.html">ActionMetadata</a> const &amp;&#160;</td>
          <td class="paramname"><em>metadata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called by the scopes run time when a scope needs to respond to a result activation request. </p>
<p>This method must return an instance that is derived from <a class="el" href="classunity_1_1scopes_1_1_activation_query_base.html" title="Base class for an activation request that is executed inside a scope. ">ActivationQueryBase</a>. The implementation of this method must return in a timely manner, that is, it should perform only minimal initialization that is guaranteed to complete quickly. The call to <a class="el" href="classunity_1_1scopes_1_1_scope_base.html#a49a0b9ada0eeb4c71e6a2181c3d8c9e7" title="Called by the scopes run time when a scope needs to respond to a result activation request...">activate()</a> is made by an arbitrary thread. The default implementation returns an instance of <a class="el" href="classunity_1_1scopes_1_1_activation_query_base.html" title="Base class for an activation request that is executed inside a scope. ">ActivationQueryBase</a> that responds with ActivationResponse::Status::NotHandled. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">result</td><td>The result that should be activated. </td></tr>
    <tr><td class="paramname">metadata</td><td>additional data sent by the client. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The activation instance. </dd></dl>

</div>
</div>
<a class="anchor" id="a2f4d476fa790349c9a7de52be3232d11"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ActivationQueryBase::UPtr unity::scopes::ScopeBase::perform_action </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classunity_1_1scopes_1_1_result.html">Result</a> const &amp;&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classunity_1_1scopes_1_1_action_metadata.html">ActionMetadata</a> const &amp;&#160;</td>
          <td class="paramname"><em>metadata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>widget_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>action_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Invoked when a scope is requested to handle a preview action. </p>
<p>This method must return an instance that is derived from <a class="el" href="classunity_1_1scopes_1_1_activation_query_base.html" title="Base class for an activation request that is executed inside a scope. ">ActivationQueryBase</a>. The implementation of this method must return in a timely manner, that is, it should perform only minimal initialization that is guaranteed to complete quickly. The call to <a class="el" href="classunity_1_1scopes_1_1_scope_base.html#a49a0b9ada0eeb4c71e6a2181c3d8c9e7" title="Called by the scopes run time when a scope needs to respond to a result activation request...">activate()</a> is made by an arbitrary thread. The default implementation returns an instance of <a class="el" href="classunity_1_1scopes_1_1_activation_query_base.html" title="Base class for an activation request that is executed inside a scope. ">ActivationQueryBase</a> that responds with ActivationResponse::Status::NotHandled. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">result</td><td>The result that was previewed. </td></tr>
    <tr><td class="paramname">metadata</td><td>Additional data sent by client. </td></tr>
    <tr><td class="paramname">widget_id</td><td>The identifier of the 'actions' widget of the activated action. </td></tr>
    <tr><td class="paramname">action_id</td><td>The identifier of the action that was activated. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The activation instance. </dd></dl>

</div>
</div>
<a class="anchor" id="a154b9b4cfc0f40572cfec60dd819396f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual PreviewQueryBase::UPtr unity::scopes::ScopeBase::preview </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classunity_1_1scopes_1_1_result.html">Result</a> const &amp;&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classunity_1_1scopes_1_1_action_metadata.html">ActionMetadata</a> const &amp;&#160;</td>
          <td class="paramname"><em>metadata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Invoked when a scope is requested to create a preview for a particular result. </p>
<p>This method must return an instance that is derived from <a class="el" href="classunity_1_1scopes_1_1_preview_query_base.html" title="Abstract base class to represent a particular preview. ">PreviewQueryBase</a>. The implementation of this method must return in a timely manner, that is, it should perform only minimal initialization that is guaranteed to complete quickly. The call to <a class="el" href="classunity_1_1scopes_1_1_scope_base.html#a49a0b9ada0eeb4c71e6a2181c3d8c9e7" title="Called by the scopes run time when a scope needs to respond to a result activation request...">activate()</a> is made by an arbitrary thread. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">result</td><td>The result that should be previewed. </td></tr>
    <tr><td class="paramname">metadata</td><td>Additional data sent by the client. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The preview instance. </dd></dl>

</div>
</div>
<a class="anchor" id="a386e99b98318a70f25db84bbe11c0292"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void unity::scopes::ScopeBase::run </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called by the scopes run time after it has called <a class="el" href="classunity_1_1scopes_1_1_scope_base.html#add7f4b1811774a63cd474ccab702acdf" title="Called by the scopes run time after the create function completes. ">start()</a> to hand a thread of control to the scope. </p>
<p><a class="el" href="classunity_1_1scopes_1_1_scope_base.html#a386e99b98318a70f25db84bbe11c0292" title="Called by the scopes run time after it has called start() to hand a thread of control to the scope...">run()</a> passes a thread of control to the scope to do with as it sees fit, for example, to run an event loop. During finalization, the scopes run time joins with the thread that called <a class="el" href="classunity_1_1scopes_1_1_scope_base.html#a386e99b98318a70f25db84bbe11c0292" title="Called by the scopes run time after it has called start() to hand a thread of control to the scope...">run()</a>. This means that, if the scope implementation does not return from <a class="el" href="classunity_1_1scopes_1_1_scope_base.html#a386e99b98318a70f25db84bbe11c0292" title="Called by the scopes run time after it has called start() to hand a thread of control to the scope...">run()</a>, it is expected to arrange for <a class="el" href="classunity_1_1scopes_1_1_scope_base.html#a386e99b98318a70f25db84bbe11c0292" title="Called by the scopes run time after it has called start() to hand a thread of control to the scope...">run()</a> to complete in timely manner in response to a call to <a class="el" href="classunity_1_1scopes_1_1_scope_base.html#ad55d5cb31003751b49783799d4d80c09" title="Called by the scopes run time when the scope should shut down. ">stop()</a>. Failure to do so will cause deadlock during finalization.</p>
<p>If <a class="el" href="classunity_1_1scopes_1_1_scope_base.html#a386e99b98318a70f25db84bbe11c0292" title="Called by the scopes run time after it has called start() to hand a thread of control to the scope...">run()</a> throws an exception, the run time handles the exception and calls <a class="el" href="classunity_1_1scopes_1_1_scope_base.html#ad55d5cb31003751b49783799d4d80c09" title="Called by the scopes run time when the scope should shut down. ">stop()</a> in response. </p>

</div>
</div>
<a class="anchor" id="a8348ee137613e28d10bd4f8bbb91c7a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string unity::scopes::ScopeBase::scope_directory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns directory where the scope files are. </p>
<p>Note, scope directory is only known after the scope has been instantantiated, e.g. it's not available in the constructor. </p>

</div>
</div>
<a class="anchor" id="a0e4969ff26dc1d396d74c56d896fd564"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual SearchQueryBase::UPtr unity::scopes::ScopeBase::search </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classunity_1_1scopes_1_1_canned_query.html">CannedQuery</a> const &amp;&#160;</td>
          <td class="paramname"><em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classunity_1_1scopes_1_1_search_metadata.html">SearchMetadata</a> const &amp;&#160;</td>
          <td class="paramname"><em>metadata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called by the scopes run time when a scope needs to instantiate a query. </p>
<p>This method must return an instance that is derived from <a class="el" href="classunity_1_1scopes_1_1_query_base.html" title="Abstract server-side base interface for a query that is executed inside a scope. ">QueryBase</a>. The implementation of this method must return in a timely manner, that is, it should perform only minimal initialization that is guaranteed to complete quickly. The call to <a class="el" href="classunity_1_1scopes_1_1_scope_base.html#a0e4969ff26dc1d396d74c56d896fd564" title="Called by the scopes run time when a scope needs to instantiate a query. ">search()</a> is made by an arbitrary thread. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">query</td><td>The query string to be executed by the returned object instance. </td></tr>
    <tr><td class="paramname">metadata</td><td>additional data sent by the client. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The query instance. </dd></dl>

</div>
</div>
<a class="anchor" id="add7f4b1811774a63cd474ccab702acdf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int unity::scopes::ScopeBase::start </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>scope_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceunity_1_1scopes.html#a45babc254d3548863d79ee54f266e84d">RegistryProxy</a> const &amp;&#160;</td>
          <td class="paramname"><em>registry</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called by the scopes run time after the create function completes. </p>
<p>If <a class="el" href="classunity_1_1scopes_1_1_scope_base.html#add7f4b1811774a63cd474ccab702acdf" title="Called by the scopes run time after the create function completes. ">start()</a> throws an exception, <a class="el" href="classunity_1_1scopes_1_1_scope_base.html#ad55d5cb31003751b49783799d4d80c09" title="Called by the scopes run time when the scope should shut down. ">stop()</a> will <em>not</em> be called.</p>
<p>The call to <a class="el" href="classunity_1_1scopes_1_1_scope_base.html#add7f4b1811774a63cd474ccab702acdf" title="Called by the scopes run time after the create function completes. ">start()</a> is made by the same thread that calls the create function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">scope_id</td><td>The name of the scope as defined by the scope's configuration file.</td></tr>
    <tr><td class="paramname">registry</td><td>A proxy to the scope registry. This parameter is provided for aggregating scopes that need to retrieve proxies to their child scopes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Any return value other than <a class="el" href="classunity_1_1scopes_1_1_scope_base.html#a7ef008b8ec7ae3bdab9a1b5dbc2a0dd0" title="This value must be returned from the start() method. ">ScopeBase::VERSION</a> will cause the scopes run time to refuse to load the scope. The return value is used to ensure that the shared library containing the scope is ABI compatible with the scopes run time. </dd></dl>

</div>
</div>
<a class="anchor" id="ad55d5cb31003751b49783799d4d80c09"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void unity::scopes::ScopeBase::stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called by the scopes run time when the scope should shut down. </p>
<p>A scope should deallocate as many resources as possible when <a class="el" href="classunity_1_1scopes_1_1_scope_base.html#ad55d5cb31003751b49783799d4d80c09" title="Called by the scopes run time when the scope should shut down. ">stop()</a> is called, for example, deallocate any caches and close network connections. In addition, if the scope implements <a class="el" href="classunity_1_1scopes_1_1_scope_base.html#a386e99b98318a70f25db84bbe11c0292" title="Called by the scopes run time after it has called start() to hand a thread of control to the scope...">run()</a> and did not return from <a class="el" href="classunity_1_1scopes_1_1_scope_base.html#a386e99b98318a70f25db84bbe11c0292" title="Called by the scopes run time after it has called start() to hand a thread of control to the scope...">run()</a>, it must return from <a class="el" href="classunity_1_1scopes_1_1_scope_base.html#a386e99b98318a70f25db84bbe11c0292" title="Called by the scopes run time after it has called start() to hand a thread of control to the scope...">run()</a> in response to the call to <a class="el" href="classunity_1_1scopes_1_1_scope_base.html#ad55d5cb31003751b49783799d4d80c09" title="Called by the scopes run time when the scope should shut down. ">stop()</a>.</p>
<p>Exceptions from <a class="el" href="classunity_1_1scopes_1_1_scope_base.html#ad55d5cb31003751b49783799d4d80c09" title="Called by the scopes run time when the scope should shut down. ">stop()</a> are ignored.</p>
<p>The call to <a class="el" href="classunity_1_1scopes_1_1_scope_base.html#ad55d5cb31003751b49783799d4d80c09" title="Called by the scopes run time when the scope should shut down. ">stop()</a> is made by the same thread that calls the create function and <a class="el" href="classunity_1_1scopes_1_1_scope_base.html#add7f4b1811774a63cd474ccab702acdf" title="Called by the scopes run time after the create function completes. ">start()</a>. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/unity/scopes/<a class="el" href="_scope_base_8h_source.html">ScopeBase.h</a></li>
<li>src/scopes/ScopeBase.cpp</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceunity.html">unity</a></li><li class="navelem"><a class="el" href="namespaceunity_1_1scopes.html">scopes</a></li><li class="navelem"><a class="el" href="classunity_1_1scopes_1_1_scope_base.html">ScopeBase</a></li>
    <li class="footer">Generated on Tue Apr 8 2014 14:04:47 for Unity Scopes API by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
